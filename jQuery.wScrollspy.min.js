!function(a,b){function g(b,c){this.element=b,this.settings=a.extend({},f,c),this._defaults=f,this._name=e,this.init()}var e="wScrollspy",f={classActive:"active"};g.prototype={init:function(){this.lastId="",this.topMenu=a(this.element),this.topMenuHeight=this.topMenu.outerHeight(),this.menuItems=this.topMenu.find('a[href^="#"]'),this.scrollItems=a(this.menuItems).map(function(){var b=a(a(this).attr("href"));return b.length?b:void 0}),this.initEvents()},initEvents:function(){var c=this;a(this.menuItems).on("click",function(b){b.preventDefault();var d=a(this).attr("href"),e="#"===d?0:a(d).offset().top-c.topMenuHeight+1;a("html, body").stop().animate({scrollTop:e},700)}),a(b).scroll(function(){var b=a(this).scrollTop()+c.topMenuHeight,d=a(c.scrollItems).map(function(){return a(this).offset().top<b?this:void 0});d=d[d.length-1];var e=d&&d.length?d[0].id:"";c.lastId!==e&&(c.lastId=e,a(c.menuItems).removeClass(c.settings.classActive).filter("[href=#"+e+"]").addClass(c.settings.classActive))})}},a.fn[e]=function(b){return this.each(function(){a.data(this,"plugin_"+e)||a.data(this,"plugin_"+e,new g(this,b))})}}(jQuery,window,document);